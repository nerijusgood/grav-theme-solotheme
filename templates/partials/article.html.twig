<article class="article">

    {% set header_image = page.header.header_image|defined(true) %}
    {% set header_image_width  = page.header.header_image_width|defined(900) %}
    {% set header_image_height = page.header.header_image_height|defined(300) %}
    {% set header_image_file = page.header.header_image_file %}



    <header class="article-header">
        {% if header_image %}
            {% if header_image_file %}
                {% set header_image_media = page.media.images[header_image_file] %}
            {% else %}
                {% set header_image_media = page.media.images|first %}
            {% endif %}
            {{ header_image_media.cropZoom(header_image_width, header_image_height).html }}
        {% endif %}

        <div class="article-header-content">

            {% if page.taxonomy.tag %}
                <ul class="tags">
                    {% for tag in page.taxonomy.tag %}
                    <li><a class="btn btn--outline" href="{{ blog.url }}/tag{{ config.system.param_sep }}{{ tag }}">{{ tag }}</a></li>
                    {% endfor %}
                </ul>
            {% endif %}

            <h1><a href="{{ page.url }}">{{ page.title }}</a></h1>

            <div class="header-date">
                <span>{{ page.date|date("d") }}</span>
                <span>{{ page.date|date("M") }}</span>
                <span>{{ page.date|date("Y") }}</span>
            </div>
        </div>

    </header>

    <main class="article-main">
        {% if page.header.metadata.demo or page.header.metadata.download or page.header.metadata.github %}
            <div class="btn-group center-hori article-shortcuts">
                {% if page.header.metadata.demo %}
                    <a class="btn btn--secondary" href="{{ page.header.metadata.demo }}">Demo</a>
                {% endif %}

                {% if page.header.metadata.download %}
                    <a class="btn btn--secondary btn--icon icon-github" href="{{ page.header.metadata.download }}">Download</a>
                {% endif %}

                {% if page.header.metadata.github %}
                    <a class="btn btn--secondary btn--icon icon-github" href="{{ page.header.metadata.github }}">GitHub</a>
                {% endif %}
            </div>
        {% endif %}

        {{ page.content }}
    </main>

    <footer class="article-footer">
        {% if show_prev_next %}
            <p class="prev-next">
                {% if not page.isFirst %}
                    <a class="button" href="{{ page.nextSibling.url }}"><i class="fa fa-chevron-left"></i> Next Post</a>
                {% endif %}

                {% if not page.isLast %}
                    <a class="button" href="{{ page.prevSibling.url }}">Previous Post <i class="fa fa-chevron-right"></i></a>
                {% endif %}
            </p>
        {% endif %}
    </footer>

    <div class="comments">
        {% include 'partials/comments.html.twig' with {'page': page} %}
    </div>

</article>
